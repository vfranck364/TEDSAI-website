<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'Observatoire TEDSAI - Analyses & Tendances</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Language Switcher - Click to Toggle */
        /* Simple Blue Language Toggle Button */
        #lang-toggle-btn {
            background: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(33, 150, 243, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: 15px;
        }

        #lang-toggle-btn:hover {
            background: #1976D2;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.4);
        }

        #lang-toggle-btn i {
            font-size: 1.1rem;
        }

        .obs-hero {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
            color: white;
            padding: 6rem 0 4rem;
            text-align: center;
        }

        .obs-hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .obs-hero .subtitle {
            font-size: 1.3rem;
            opacity: 0.95;
            margin-bottom: 2rem;
        }

        .mission-box {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            max-width: 900px;
            margin: -3rem auto 3rem;
            position: relative;
            z-index: 10;
        }

        .category-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 2rem 0;
        }

        .category-btn {
            padding: 8px 16px;
            border: 2px solid var(--color-primary);
            background: white;
            color: var(--color-primary);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .category-btn:hover,
        .category-btn.active {
            background: var(--color-primary);
            color: white;
        }

        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .article-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .article-image {
            width: 100%;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .article-content {
            padding: 1.5rem;
        }

        .article-meta {
            display: flex;
            gap: 15px;
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 1rem;
        }

        .article-category {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: bold;
            color: white;
            margin-bottom: 0.5rem;
        }

        .article-title {
            font-size: 1.3rem;
            margin: 0.5rem 0;
            color: var(--color-primary);
        }

        .article-summary {
            color: #555;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .newsletter-cta {
            background: var(--color-secondary);
            color: white;
            padding: 3rem 2rem;
            border-radius: 12px;
            text-align: center;
            margin: 4rem 0;
        }

        .newsletter-form {
            display: flex;
            gap: 10px;
            max-width: 500px;
            margin: 1.5rem auto 0;
        }

        .newsletter-form input {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 6px;
        }

        .newsletter-form button {
            padding: 12px 24px;
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <a href="../index.html" title="Home / Accueil">
                    <img src="../assets/images/logos/Logo TEDSAI.jpeg" alt="TEDSAI Logo" style="height: 50px;">
                </a>
            </div>
            <nav class="nav-links">
                <a href="../index.html"><i class="fa-solid fa-home"></i> <span data-i18n="nav.home">Accueil</span></a>
                <a href="solutions-ia.html" data-i18n="nav.solutions">Solutions IA</a>
                <a href="vitedia.html" data-i18n="nav.vitedia">viTEDia</a>
                <a href="garden.html" data-i18n="nav.garden">SelecTED Gardens</a>
                <a href="observatoire.html" style="color: var(--color-primary);"
                    data-i18n="nav.observatory">Observatoire</a>
                <a href="contact.html" data-i18n="nav.contact">Contact</a>
            </nav>
        </div>
    </header>

    <section class="obs-hero">
        <div class="container">
            <h1 data-i18n="hero.observatory_title">TEDSAI Observatory</h1>
            <p class="subtitle" data-i18n="hero.observatory_subtitle">Analysis & Trends</p>
            <p style="font-size: 1.1rem; opacity: 0.9;" data-i18n="hero.observatory_topics">AI • Agriculture • Livestock
                • Commerce • SMEs • Economy</p>
        </div>
    </section>

    <div class="container">
        <div class="mission-box">
            <h2 style="color: var(--color-primary); margin-bottom: 1rem;" data-i18n="observatory.mission_title">Our
                Mission</h2>
            <p style="font-size: 1.05rem; line-height: 1.8; color: #555;" data-i18n-html="observatory.mission_text">
                Publish <strong>economic, statistical and socio-economic analyses</strong> on trends related to TEDSAI
                domains,
                with a <strong>Cameroon → Africa → World</strong> focus. Our content is designed for SMEs, large
                companies,
                decision-makers, agro-pastoral actors and partners.
            </p>
            <div style="background: #f8f9fa; padding: 1rem; border-left: 4px solid var(--color-secondary); margin-top: 1.5rem;"
                data-i18n-html="observatory.mission_promise">
                <strong>Our Promise:</strong> Actionable insights → <em>Data → Reading → Decision → Action Plan</em>
            </div>
        </div>
    </div>

    <section class="container">
        <h2 style="text-align: center; margin-bottom: 1rem;" data-i18n="observatory.explore_title">Explore by Topic</h2>
        <div class="category-filter" id="category-filter">
            <button class="category-btn active" onclick="filterArticles('all')" data-i18n="observatory.all">All</button>
        </div>
    </section>

    <section class="container">
        <div class="articles-grid" id="articles-grid">
            <p style="text-align: center; color: #777;"><i class="fa-solid fa-spinner fa-spin"></i> <span
                    data-i18n="common.loading">Loading...</span></p>
        </div>
    </section>

    <section class="container">
        <div class="newsletter-cta">
            <h2 style="margin: 0 0 1rem;" data-i18n="observatory.newsletter_title">Receive Our Analysis by Email</h2>
            <p data-i18n="observatory.newsletter_text">Subscribe to our weekly newsletter: trends, barometers and case
                studies.</p>
            <form class="newsletter-form" onsubmit="subscribeNewsletter(event)">
                <input type="email" data-i18n="observatory.newsletter_placeholder" placeholder="your@email.com"
                    required>
                <button type="submit" data-i18n="observatory.newsletter_button">Subscribe</button>
            </form>
        </div>
    </section>

    <footer>
        <div class="container footer-content">
            <div class="footer-col">
                <h4>TEDSAI Complex</h4>
                <p>Innovation • Agriculture • Restauration</p>
            </div>
            <div class="footer-col">
                <h4>Observatoire</h4>
                <ul>
                    <li><a href="#">Tous les articles</a></li>
                    <li><a href="#">Newsletter</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Contact</h4>
                <p>Email: contact@tedsai.cm</p>
            </div>
        </div>
        <div class="container"
            style="text-align: center; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.1); margin-top: 2rem;">
            <p>&copy; 2025 TEDSAI Complex. Tous droits réservés.</p>
        </div>
    </footer>

    <script src="../assets/js/i18n.js"></script>
    <script>
        // Toggle language dropdown on click
        function toggleLangDropdown(event) {
            event.stopPropagation();
            const dropdown = document.getElementById('lang-dropdown');
            dropdown.classList.toggle('active');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function (event) {
            const dropdown = document.getElementById('lang-dropdown');
            const switcher = document.querySelector('.language-switcher');
            if (dropdown && !switcher.contains(event.target)) {
                dropdown.classList.remove('active');
            }
        });

        // Override switchLang to close dropdown and highlight active language
        const originalSwitchLang = window.switchLang;
        window.switchLang = function (lang) {
            // Call original function
            if (typeof i18n !== 'undefined') {
                i18n.switchLanguage(lang);
            }

            // Close dropdown
            const dropdown = document.getElementById('lang-dropdown');
            if (dropdown) {
                dropdown.classList.remove('active');
            }

            // Highlight active language
            document.querySelectorAll('.lang-dropdown a').forEach(link => {
                link.classList.toggle('active-lang', link.dataset.lang === lang);
            });
        };

        // Highlight current language on page load
        document.addEventListener('DOMContentLoaded', function () {
            setTimeout(() => {
                const currentLang = i18n.getCurrentLanguage();
                document.querySelectorAll('.lang-dropdown a').forEach(link => {
                    link.classList.toggle('active-lang', link.dataset.lang === currentLang);
                });
            }, 100);
        });

        // Embedded data to avoid fetch issues
        const ARTICLES_DATA = {
            "articles": [
                { "id": "ia-pme-cameroun-2025", "title": "IA Générative pour PME Camerounaises : ROI Réel en 2025", "category": "ia", "author": "Équipe TEDSAI", "date": "2025-01-10", "readTime": "8 min", "summary": "Analyse chiffrée du retour sur investissement de l'IA générative pour 30 PME camerounaises. Résultats : +35% productivité, -20% coûts opérationnels." },
                { "id": "rendement-maraichage-urbain", "title": "Rendement Maraîchage Urbain : Yaoundé vs Douala (Données 2024)", "category": "agriculture", "author": "Équipe SelecTED Gardens", "date": "2025-01-08", "readTime": "6 min", "summary": "Comparaison des rendements en agriculture urbaine entre Yaoundé et Douala. Tomates : 45kg/m² à Yaoundé vs 38kg/m² à Douala. Analyse des facteurs clés." },
                { "id": "poulet-chair-analyse-couts", "title": "Poulet de Chair : Analyse Coûts/Bénéfices (Rations Locales vs Importées)", "category": "elevage", "author": "TEDSAI Élevage", "date": "2025-01-05", "readTime": "10 min", "summary": "Étude comparative sur 500 poulets : rations locales = -15% coût, même croissance. Rentabilité : 28% avec local vs 22% avec importé." },
                { "id": "prix-epices-yaounde-2024", "title": "Prix des Épices à Yaoundé : Tendances Saisonnières 2024", "category": "epicerie", "author": "TEDSAI Épicerie", "date": "2025-01-03", "readTime": "5 min", "summary": "Baromètre annuel des prix : Piment +12%, Gingembre stable, Poivre -8%. Meilleurs mois d'achat identifiés pour chaque épice." },
                { "id": "marges-restauration-etude", "title": "Marges Restauration : Étude de 50 Établissements Yaoundé", "category": "restauration", "author": "viTEDia Insights", "date": "2024-12-28", "readTime": "7 min", "summary": "Marge moyenne : 32%. Top performers : 45%+ grâce à l'approvisionnement local et à la réduction du gaspillage. Méthodologie détaillée." },
                { "id": "inflation-secteur-alimentaire", "title": "Inflation & Pouvoir d'Achat : Impact sur le Secteur Alimentaire", "category": "economie", "author": "Observatoire TEDSAI", "date": "2024-12-20", "readTime": "9 min", "summary": "Inflation alimentaire 2024 : +8,5%. Analyse des stratégies d'adaptation des ménages et opportunités pour les producteurs locaux." },
                { "id": "vitedia-reduction-gaspillage", "title": "Cas viTEDia : Réduction du Gaspillage de 40% avec l'IA", "category": "cas-tedsai", "author": "TEDSAI IA", "date": "2024-12-15", "readTime": "6 min", "summary": "Étude de cas : système de prévision de demande par IA. Résultats : -40% gaspillage, +18% marge nette, ROI en 4 mois." },
                { "id": "checklist-elevage-poisson", "title": "Checklist : Lancer un Élevage de Poisson Rentable", "category": "pratique", "author": "TEDSAI Élevage", "date": "2024-12-10", "readTime": "12 min", "summary": "Guide complet : choix du site, construction des bassins, gestion de l'eau, alimentation, biosécurité. Budget type : 2M FCFA pour démarrer." },
                { "id": "barometre-prix-hebdo", "title": "Baromètre Prix Hebdo : Poulet, Poisson, Tomates (Semaine 2)", "category": "barometre", "author": "Observatoire TEDSAI", "date": "2025-01-12", "readTime": "3 min", "summary": "Mise à jour hebdomadaire : Poulet vif 2200 FCFA/kg (-50 FCFA), Tilapia 1800 FCFA/kg (stable), Tomates 800 FCFA/kg (+100 FCFA)." },
                { "id": "portrait-producteur-epices", "title": "Portrait : Un Producteur d'Épices de l'Ouest Cameroun", "category": "interview", "author": "Observatoire TEDSAI", "date": "2024-12-05", "readTime": "8 min", "summary": "Rencontre avec Jean K., producteur de gingembre à Foumbot. De 0,5 ha à 3 ha en 5 ans. Secrets de réussite et défis du marché." }
            ],
            "categories": [
                { "id": "ia", "name": "Intelligence Artificielle", "color": "#0A2463" },
                { "id": "agriculture", "name": "Agriculture", "color": "#2D5A27" },
                { "id": "elevage", "name": "Élevage", "color": "#8B4513" },
                { "id": "restauration", "name": "Restauration", "color": "#8B1538" },
                { "id": "epicerie", "name": "Épicerie & Produits", "color": "#D35400" },
                { "id": "commerce", "name": "Commerce & PME", "color": "#34495E" },
                { "id": "economie", "name": "Économie", "color": "#16A085" },
                { "id": "cas-tedsai", "name": "Cas TEDSAI", "color": "#E67E22" },
                { "id": "pratique", "name": "Guides Pratiques", "color": "#27AE60" },
                { "id": "barometre", "name": "Baromètres", "color": "#C0392B" },
                { "id": "interview", "name": "Interviews", "color": "#9B59B6" }
            ]
        };

        let allArticles = ARTICLES_DATA.articles;
        let currentCategory = 'all';

        // Load categories
        const filterContainer = document.getElementById('category-filter');
        ARTICLES_DATA.categories.forEach(cat => {
            const btn = document.createElement('button');
            btn.className = 'category-btn';
            btn.textContent = cat.name;
            btn.onclick = () => filterArticles(cat.id);
            filterContainer.appendChild(btn);
        });

        function filterArticles(category) {
            currentCategory = category;
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.toggle('active',
                    (category === 'all' && btn.textContent === 'Tous') ||
                    btn.textContent === ARTICLES_DATA.categories.find(c => c.id === category)?.name
                );
            });

            const filtered = category === 'all' ? allArticles : allArticles.filter(a => a.category === category);
            renderArticles(filtered);
        }

        function renderArticles(articles) {
            const grid = document.getElementById('articles-grid');
            if (articles.length === 0) {
                grid.innerHTML = '<p style="text-align:center; color:#777;">Aucun article dans cette catégorie.</p>';
                return;
            }

            const categoryColors = {
                'ia': '#0A2463', 'agriculture': '#2D5A27', 'elevage': '#8B4513',
                'restauration': '#8B1538', 'epicerie': '#D35400', 'commerce': '#34495E',
                'economie': '#16A085', 'cas-tedsai': '#E67E22', 'pratique': '#27AE60',
                'barometre': '#C0392B', 'interview': '#9B59B6'
            };

            const categoryIcons = {
                'ia': 'fa-brain', 'agriculture': 'fa-seedling', 'elevage': 'fa-cow',
                'restauration': 'fa-utensils', 'epicerie': 'fa-pepper-hot', 'commerce': 'fa-chart-line',
                'economie': 'fa-coins', 'cas-tedsai': 'fa-lightbulb', 'pratique': 'fa-list-check',
                'barometre': 'fa-chart-bar', 'interview': 'fa-microphone'
            };

            const categoryNames = {
                'ia': 'IA', 'agriculture': 'Agriculture', 'elevage': 'Élevage',
                'restauration': 'Restauration', 'epicerie': 'Épicerie', 'commerce': 'Commerce',
                'economie': 'Économie', 'cas-tedsai': 'Cas TEDSAI', 'pratique': 'Guide',
                'barometre': 'Baromètre', 'interview': 'Interview'
            };

            let html = '';
            articles.forEach(article => {
                const color = categoryColors[article.category] || '#333';
                const icon = categoryIcons[article.category] || 'fa-file-alt';
                const catName = categoryNames[article.category] || article.category;

                html += `
                    <div class="article-card">
                        <div class="article-image" style="background: ${color};">
                            <i class="fa-solid ${icon}"></i>
                        </div>
                        <div class="article-content">
                            <span class="article-category" style="background: ${color};">${catName}</span>
                            <h3 class="article-title">${article.title}</h3>
                            <div class="article-meta">
                                <span><i class="fa-solid fa-user"></i> ${article.author}</span>
                                <span><i class="fa-solid fa-clock"></i> ${article.readTime}</span>
                            </div>
                            <p class="article-summary">${article.summary}</p>
                        </div>
                    </div>
                `;
            });

            grid.innerHTML = html;
        }

        function subscribeNewsletter(e) {
            e.preventDefault();
            const email = e.target.querySelector('input').value;
            const messages = JSON.parse(localStorage.getItem('tedsai_messages') || '[]');
            messages.unshift({
                id: 'newsletter_' + Date.now(),
                name: 'Abonnement Newsletter',
                email: email,
                interest: 'observatoire',
                message: 'Abonnement à la newsletter Observatoire',
                date: new Date().toISOString()
            });
            localStorage.setItem('tedsai_messages', JSON.stringify(messages));
            alert(i18n.t('observatory.newsletter_success', 'Thank you! You are subscribed to our newsletter.'));
            e.target.reset();
        }

        // Initial load
        renderArticles(allArticles);
    </script>
</body>

</html>